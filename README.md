# grpc-io-game
Данная игра позволяет играть в 2d танки по сети.
Для начала склонируйте репозиторий и установите все необходимое:
```
pip install -r requirements.txt
```

Чтобы создать свой собственный игровой сервер используйте команду:
```
python -m game-server
```
Начните игру:
```
python -m client
```
Если вы выложили проект на хостинг и хотите подключиться к нему с клиента то в классе GameClient(файл game_client) нужно указать другой host. При этом скорость игры может быть значительно медленнее чем при работе по локальной сети.

## Коротко о игре.
  Игра представляет собой поле, по которому двигаются и стреляют танки. Есть нескольок видов препятствий:
  * Стена, через неё не может проехать танк и пролететь снаряд.
  * Вода, по ней не может ездить танк, но через неё пролетают снаряды.
  * Куст, в нем можно спрятаться от врагов.
  ![Скриншот из игры](https://github.com/victormorozov1/tanks-server/raw/master/screenshots/scr1.png)
  
  Перед началом игроку предлагается ввести имя, ведь игра проходит по сети с другими игроками, хотя при желании можно подключить и ботов. Когда игрок умирает, игра автоматически перезапускается.
## Архитектура проекта.
  Проект разделён на две части:
  * Сервер
  * Клиент
### Сервер.
  На сервере храниться информация о расположении всех игровых объектах (снарядах, танках, стенах...). Сервер полностью контролирует передвижение всех игроков, то есть это сервер передвигает того или иного игрока, заставляет его танк выстрелить или повернуться. Клиент только посылает серверу запрос на выполнение того или иного действия, но оно может быть не выполненно. Например если игрок отправит запрос на передвижение вперёд, но прямо перед ним стена, сервер не будет двигать танк. 
### Клиент.
  Клиент позволяет игроку взаимодействовать с сервером. С помощью библиотеки Pygame визуализируется текущее состояние поля и игрок может принять решение, как ему играть. Клиент передаёт его решение серверу.
### Взаимодействие клиента и сервера.
  Клиент и сервер могут объщаться друг с другом благодаря библиотеке GRPC. Перед началом игры клиент посылает серверу запрос на подключение, а так-же запрос на получение карты (это требуеться только один раз, так как стены, кусты и воду нельзя разрушить, соответственно карта не меняеться), и текущего положения всех игроков. Затем клиент посылает несколько запросов на получение изменений в игре, то есть сервер отправит сообщения клиенту когра какой-то танк будет двигаться, поворачиватся или стрелять. 

## Какое будующее у проекта:
  Игра пока не позволяет улучшать танки, собирать аптечку и многое другое, но уже реализована основа, то есть можно ездить и стрелять. В будующем можно будет продолжить улучшать игру.
  
## Что ещё можно делать с моим проектом:
  В первую очередь проект создан для игры в танки по сети.
  Однако интересной особенностью является возможность создания ботов, это достаточно легко. Таким образом мой проект открывает интересную возможность проводить соревнования между роботами, между роботами и людьми.
  
## Проблемы проекта.
Проблемой проекта являються сложные в выявлении баги. Когда я делал проект, то делал это за одним компьютером и, соответственно тестировал его тоже с одного компьютера. Иногда у меня появлялись странные баги, которые я никак не мог исправить по причине редкости их появления. Но когда я протестировал игру по сети с нескольких компьютеров сразу, то баги стали появляться значительно чаще. Они не мешают играть, но немного раздражают.
